
<html>
<head>
<title>Merging TOP and OOP :: Table-Oriented Programming (TOP)</title>
<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;0,700;1,400;1,700&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Dosis:wght@200..800&family=Forum&family=Noto+Emoji:wght@300..700&family=Quattrocento:wght@400;700&family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

<!-- jQuery -->
<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.slim.min.js">
</script>

<script type="text/javascript">
<!--
class	StackItem {
	Item = null;
	ParentList = null;

	constructor(item, parent, stack) {
		this.Item = item;
		this.ParentList = parent;
		stack.push(this);
	}
}

// If heading has an ID, make it anchor better
// Also, generate table of contents
$(document).ready(function() {
	// Start TOC code
	$("table-of-contents").empty();                                                            

	// jQuery stacks
	var HeadingStack = [];
	var prevHLevel = 0;

	var index = 0;                                                                    
	// End TOC code

	$("h1,h2,h3,h4,h5,h6").each(function(i) {
		var jQuery_Heading = $(this);
		var DOM_Heading = jQuery_Heading.get(0);

		//console.log('Starting: ' + jQuery_Heading.text());
		// if ($('#table-of-contents').is(':empty')){	console.log("Empty TOC-4!" + jQuery_Heading.text()); }

		// Create Anchor
		var anchor
		var anchor_name
		if(jQuery_Heading.attr('id')) {
			anchor_name = jQuery_Heading.attr("id");
		} else {
			anchor_name = DOM_Heading.nodeName + index;
		}
		var link_target = window.location.href + '#' + anchor_name;
		jQuery_Heading.before('<a name="' + anchor_name + '" class="pre-heading"/>');
		// End Create Anchor

		var originalText = jQuery_Heading.text();

		// Mark up named anchors
		if(jQuery_Heading.attr('id')) {
			jQuery_Heading.addClass('linkable');
			var headingId = jQuery_Heading.attr("id");
			jQuery_Heading.wrap('<a class="heading-link" href="' + link_target + '"></a>');
			var fontstring = "'Noto Emoji'";
			jQuery_Heading.append(' <span style="font-family: ' + fontstring + '">⚓</span>');
			jQuery_Heading.removeAttr("id");
		}
		// End Mark up named anchors

		// Start TOC code
		jQuery_Heading.before(anchor);                                     

		var	DOM_li = "<li><a href='" + link_target + "'>" + originalText + "</a></li>";
		var	jQuery_li = $(DOM_li);

		var thisHLevel = DOM_Heading.nodeName.substring(1,2);
		var thisHDiff = thisHLevel - prevHLevel;

		// console.log('t3==' + thisHDiff + '==' + thisHLevel + '==' + anchor_name);

		if(thisHDiff > 0) {
			for(let step = prevHLevel; step < thisHLevel; step++) {
				console.log('Starting step: ' + step);
				// Set up parent
				parent = HeadingStack[HeadingStack.length - 1];
				// Set up new stack item (including parent list) and push
				var isLast = step == (thisHLevel - 1);
				CurrentStackItem = new StackItem(
					isLast ? jQuery_li : null, 
					$('<ul foo="' + anchor_name + '-' + step + '"></ul>'),
					HeadingStack
				);
				if(isLast) {
					// Add item to list
					CurrentStackItem.ParentList.append(CurrentStackItem.Item);
				}
				// console.log(CurrentStackItem.ParentList.get(0));

				// Add list to list
				var useGrandParent = (typeof parent == 'undefined') ? "#table-of-contents" : parent.ParentList;
				// if(typeof useGrandParent == 'object') { console.log(useGrandParent.get(0)); }
				CurrentStackItem.ParentList.appendTo(useGrandParent);
			}
			// console.log(JSON.parse(JSON.stringify(HeadingStack)));
		} else if(thisHDiff == 0) {
			// Add to existing list
			CurrentStackItem.ParentList.append(jQuery_li);
		} else {
			for(let step = prevHLevel; step > thisHLevel; step--) {
				HeadingStack.pop();
			}
			parent = HeadingStack[HeadingStack.length - 1];
			parent.ParentList.append(jQuery_li);
		}
		prevHLevel = thisHLevel;
		index++;                                                    
		// End TOC code
	});
})

-->
</script>

<!-- Links and stylesheet -->
<base href="https://wayland.github.io/table-oriented-programming/TOP-doco/generated/">

<link rel="stylesheet" href="TOP.css"/>

</head>
<body>

<div class="wide-box ">
<div class="navbar"><ul>

	<li class="dropdown">
		<a href="javascript:void(0)" class="dropbtn">Progamming Productivity</a>
		<div class="dropdown-content">
			<a href="Programming-Productivity.html">Introduction to Programming Productivity</a>

		</div>
	</li>

	<li class="dropdown">
		<a href="javascript:void(0)" class="dropbtn">TOP</a>
		<div class="dropdown-content">
			<a href="Introduction/What.html">What is Table-Oriented Programming?</a>
			<a href="Introduction/Why.html">Why Table-Oriented Programming</a>
			<a href="Introduction/Terminology.html">Terminology</a>
			<a href="Introduction/History.html">History</a>
			<a href="Introduction/Language-Analogy.html">TOP and the Language Analogy</a>

		</div>
	</li>

	<li class="dropdown">
		<a href="javascript:void(0)" class="dropbtn">Collection Convergence</a>
		<div class="dropdown-content">
			<a href="Collection-Convergence/Introduction/">Introduction to Collection Convergence</a>
			<a href="Collection-Convergence/Tableish.html">role Tableish</a>
			<a href="Collection-Convergence/Database-Engine-Neutrality.html">Database Engine Neutrality</a>
			<a href="Collection-Convergence/Memory-Mapping-Reduction.html">Memory-Mapping Reduction</a>
			<a href="Collection-Convergence/Data-Dictionaries.html">Data Dictionaries</a>

		</div>
	</li>

	<li class="dropdown">
		<a href="javascript:void(0)" class="dropbtn">Language Support</a>
		<div class="dropdown-content">
			<a href="Language-Support/Table-Friendly-Syntax.html">Table-Friendly Syntax</a>
			<a href="Language-Support/Table.html">class Table</a>
			<a href="Language-Support/View.html">class View</a>

		</div>
	</li>

	<li class="dropdown">
		<a href="javascript:void(0)" class="dropbtn">Stylistic Features</a>
		<div class="dropdown-content">
			<a href="Stylistic-Features/Introduction.html">Introduction to TOP Style</a>
			<a href="Stylistic-Features/Code-Management.html">TOP Code Management</a>
			<a href="Stylistic-Features/Control-Tables/">Control Tables</a>

		</div>
	</li>

	<li class="dropdown">
		<a href="javascript:void(0)" class="dropbtn">Critiques</a>
		<div class="dropdown-content">
			<a href="Critiques/OOP.html">OOP</a>
			<a href="Critiques/SQL.html">SQL</a>
			<a href="Critiques/Trees.html">Trees</a>
			<a href="Critiques/Arrays.html">Arrays</a>

		</div>
	</li>

	<li class="dropdown">
		<a href="javascript:void(0)" class="dropbtn">Comparisons</a>
		<div class="dropdown-content">
			<a href="">Comparison of Raku TOP and xBase</a>
			<a href="Other-Items/Paradigm-Comparisons.html">Paradigm Comparisons</a>

		</div>
	</li>

	<li class="dropdown">
		<a href="javascript:void(0)" class="dropbtn">RAD</a>
		<div class="dropdown-content">
			<section>
				<span class="dropdown-header">Editors</span>
			<a href="RAD/Database-Design-Editor.html">Database Design Editor</a>
			<a href="RAD/Code-Editors.html">Code Editors</a>
			<a href="RAD/UI-Editors.html">UI editors (Forms &amp; Reports)</a>

			</section>
			<a href="RAD/Backend-to-Frontend-Design.html">Backend-to-Frontend Design</a>

		</div>
	</li>

	<li class="dropdown">
		<a href="javascript:void(0)" class="dropbtn">Other Material</a>
		<div class="dropdown-content">
			<a href="Other-Items/Eight-Concepts.html">Eight Concepts</a>
			<section>
				<span class="dropdown-header">Implementation Features</span>
			<a href="">File Directory Management</a>

			</section>
			<a href="Other-Items/Why-Table-Oriented-Programming.html">Why Table-Oriented Programming?</a>
			<a href="Other-Items/Scalar-Type-Convergence.html">Scalar Type Convergence</a>
			<a href="Other-Items/Merging-TOP-and-OOP.html">Merging TOP and OOP</a>
			<a href="Other-Items/Zealot-Oriented-Programming/">Zealot-Oriented Programming</a>
			<a href="Other-Items/English-Analysis.html">English Analysis</a>

		</div>
	</li>

	<li class="dropdown">
		<a href="javascript:void(0)" class="dropbtn">AI</a>
		<div class="dropdown-content">
			<a href="">gpt-pilot</a>

		</div>
	</li>
	
</ul></div>

<div id="table-of-contents"></div>

<div class="main-box">

<div class="title">Merging TOP and OOP</div>

<div class="tagline">Tim Nelson, 2024</div>


<h2>Merging TOP and OOP?</h2>

<p>The originators of Table-Oriented Programming, Tablizer/TOPMind, 
were interested in the possibility of merging TOP and OOP.  Their thought that 
<a href="https://web.archive.org/web/20121111044000/http://www.geocities.com/tablizer/merge.htm">
objects be stored in a relational format</a> have been borne out by many of the 
current uses that relational databases are put to, especially via ORMs.  </p>

<div class="blockquote">
Perhaps the best of TOP and OOP can be combined into a
very useful programming language. There are enough
similarities between the two to spark new thinking.
It is our opinion that OOP designers have been too
caught up in building structures in memory that they
neglected flexible persistent storage techniques,
among others.

<div class="reference">
        <i><a href="https://web.archive.org/web/20121024051826/http://www.geocities.com/tablizer/top.htm">Table-Oriented Programming</a></i>, Tablizer/TOPMind, 1998-2002
</div>
</div>

<p>Their view was that this was likely impossible; their thinking in this was 
hampered by the following restrictions:</p>
<ul>
	<li>A desire that <b>everything be a table</b> (or at least, a Tableish).  
		This was 
		understandable, given that the opposing camp at the time wanted 
		everything to be an object, and <i>only</i> an object.  Some languages 
		are still like this, but Raku's model of "everything an object, but can 
		also be something else at the same time" means that we can have most of 
		the benefits of TOP whilst also retaining the benefits of OOP.</li>
	<li>Their desire, that there be an <b>automatic mapping between objects 
		and table rows</b>.  This level of integration is, while useful at times, 
		often closer than desirable.  </li>
</ul>

<p>Any objections to the merger that was dependent on either of the above 
restrictions won't be addressed (unless the restrictions above are shown 
valid).</p>

<h1>Objections Answered</h1>

<div class="blockquote">
TOP attempts to have a built-in relationship with relational systems to reduce 
or minimize data mapping.

<div class="reference">
        <i><a href="https://web.archive.org/web/20121024051826/http://www.geocities.com/tablizer/top.htm">Table-Oriented Programming</a></i>, Tablizer/TOPMind, 1998-2002
</div>
</div>

<p>The key here is to make the relationship between the table and the relational 
system optional; if you want the automatic data mapping, then set a setting, and 
it will happen.  If not, then don't.  </p>

<p>Tablizer/TOPMind also highlighted the weaknesses of C++ and Java 
(the primary OOP languages of his time) that prevent them from properly 
supporting TOP.  These missing features were:</p>

<div class="blockquote">

<b>Ability to evaluate strings with internal functions.</b>
  This ability is crucial to
  <a href="https://web.archive.org/web/20121111044032/http://www.geocities.com/tablizer/cntrl1.htm">
Control Tables</a> and useful for
  many other purposes. Although a "side language" can be added
  to Java and C++, this approach has many limitations. For one, it
  splits your code between the regular language and the side
  language where each language has a tough time communicating
  with the other.

<div class="reference">
        <i><a href="https://web.archive.org/web/20121111044032/http://www.geocities.com/tablizer/funcs.htm">Notes on Syntax</a></i>, Tablizer/TOPMind, 1998-2002
</div>
</div>

<p>Raku's quoting constructs include double-quoted strings which have the 
<a href="https://docs.raku.org/language/quoting#Quoting_constructs">Ability to 
evaluate strings with internal functions</a>.  It may be necessary to 
combine this with Raku's anonymous functions, found in the Blocks and Lambdas 
section of <a href="https://docs.raku.org/language/functions">Functions</a>, to 
experience the full power of Raku here.  </li>

<div class="blockquote">

<b>Adequate Context Reduction.</b> This is the ability
  to avoid redundancy in syntax that repeats itself over large
  stretches of code. Reducing this repetition not only reduces
  typing, but also makes the relevant information more visible
  to the reader, reducing reading errors.
  The "with table" example above shows an example
  of Context Reduction. You can also read about variations
  in our
  <a href="https://web.archive.org/web/20121111044032/http://www.geocities.com/tablizer/newlang.htm#context">
proposed TOP language</a>
  discussion. Note that avoiding quotes for field names is also a
  form of context reduction.

<div class="reference">
	<i><a href="https://web.archive.org/web/20121111044032/http://www.geocities.com/tablizer/funcs.htm">Notes on Syntax</a></i>, Tablizer/TOPMind, 1998-2002
</div>
</div>

<p>One of Raku's inheritances from Perl is a great awareness of context.  The 
cited <a href="https://web.archive.org/web/20121111044032/http://www.geocities.com/tablizer/funcs.htm">
"with table" example</a> can be easily done in Raku using a 
<a href="https://docs.raku.org/language/control#given">"given" block</a> which 
basically performs the same function.</p>

<p>Having said that, one of the down sides of a multi-paradigm language is 
balancing the needs of all the paradigms; we can't quite reduce context to the 
level of avoiding quotes on field names, but we might be able get away with 
using angle-quotes as both the associative array indicator and the quotation 
marks, as per <a href="https://docs.raku.org/language/subscripts#Subscripts">
Associative Subscripting</a>.</p>

<div class="blockquote">

<b>Clause-based syntax</b>.
  Clause-based syntax is a kind of compromise between
  position-based parameters and named parameters.
  The "copy from" example above shows an example of
  clause-based syntax and discusses some of it's
  advantages. Some implementation suggestions can
  be found in our
  <a href="https://web.archive.org/web/20121111044032/http://www.geocities.com/tablizer/newlang.htm#clause">
proposed TOP language</a>
  discussion.

<div class="reference">
        <i><a href="https://web.archive.org/web/20121111044032/http://www.geocities.com/tablizer/funcs.htm">Notes on Syntax</a></i>, Tablizer/TOPMind, 1998-2002
</div>
</div>

<p>Raku, rather than compromising between positional and named parameters, 
allows both.  If someone were really desperate to have clause-based parameters, 
it would be achievable via a Slang.  An example would be 
<a href="https://raku.land/zef:tony-o/Slang::SQL">Slang::SQL</a>, which allows 
SQL code to be embedded directly in Raku.</p>

<p>Other articles by Tablizer/TOPMind on the topic are:</p>
<ul>
	<li><a href="https://web.archive.org/web/20121024051826/http://www.geocities.com/tablizer/merge.htm">Merging OOP and TOP</a></li>
	<li><a href="https://web.archive.org/web/20121024051826/http://www.geocities.com/tablizer/prpats.htm">Patterns using Procedural/Relational Paradigm</a></li>
</ul>



</div>

<div class="footer">
	<span class="left">			<a href="Other-Items/Scalar-Type-Convergence.html">&lt;&lt; Scalar Type Convergence</a>
</span>
	<span class="centre">-</span>
	<span class="right">			<a href="Other-Items/Zealot-Oriented-Programming/">Zealot-Oriented Programming &gt;&gt;</a>
</span>
</div>
<p/>
<div class="copyright">© Copyright Tim Nelson, 2024</div>
</div>
<p/>

</body>
</html>
